# Property Search System - Environment Configuration
# Copy this file to .env and update with your actual values

# ==============================================================================
# ELASTICSEARCH CONNECTION SETTINGS
# ==============================================================================

# The hostname or IP address of your Elasticsearch server
# For Docker: use 'elasticsearch' as the hostname
# For cloud: use your cluster endpoint (e.g., 'my-cluster.es.us-east1.gcp.cloud.es.io')
ES_HOST=localhost

# The port Elasticsearch is listening on
# Default: 9200 for HTTP, 9243 for HTTPS (Elastic Cloud)
ES_PORT=9200

# Connection protocol - either 'http' or 'https'
# Use 'https' for production and Elastic Cloud deployments
ES_SCHEME=http

# ==============================================================================
# ELASTICSEARCH AUTHENTICATION
# ==============================================================================

# Elasticsearch username for basic authentication
# Required when X-Pack security is enabled or using Elastic Cloud
# Default superuser is 'elastic' but create dedicated users for production
ES_USERNAME=elastic

# Elasticsearch password for the specified username
# Generate strong passwords for production environments
# Never commit actual passwords to version control
ES_PASSWORD=changeme

# ==============================================================================
# SSL/TLS SETTINGS (for HTTPS connections)
# ==============================================================================

# Whether to verify SSL certificates when connecting via HTTPS
# Set to 'false' only for development with self-signed certificates
# Always use 'true' in production
# ES_VERIFY_CERTS=true

# Path to Certificate Authority (CA) bundle file
# Required when using custom CA or self-signed certificates
# Example: /etc/elasticsearch/certs/ca.pem
# ES_CA_CERTS=/path/to/ca/certificate.pem

# ==============================================================================
# CONNECTION BEHAVIOR SETTINGS
# ==============================================================================

# Request timeout in seconds - how long to wait for Elasticsearch responses
# Increase for slow networks or large operations
ES_TIMEOUT=30

# Whether to automatically retry requests that timeout
# Helps with transient network issues
ES_RETRY_ON_TIMEOUT=true

# Maximum number of retry attempts for failed requests
# Balance between resilience and responsiveness
ES_MAX_RETRIES=3

# ==============================================================================
# INDEX CONFIGURATION
# ==============================================================================

# Base name for the Elasticsearch index
# Actual indices will be versioned (e.g., properties_20240101_120000)
INDEX_NAME=properties

# Alias name for zero-downtime index updates
# Your application always queries this alias, not specific index versions
INDEX_ALIAS=properties_alias

# Number of primary shards for the index
# Use 1 for small datasets (<1GB), increase for larger datasets
# Cannot be changed after index creation
INDEX_SHARDS=1

# Number of replica shards for high availability
# Set to 0 for single-node development, 1+ for production clusters
INDEX_REPLICAS=1

# ==============================================================================
# SEARCH SETTINGS
# ==============================================================================

# Default number of results per search page
# Balance between performance and user experience
SEARCH_DEFAULT_SIZE=20

# Maximum allowed results per search request
# Prevents excessive memory usage from large requests
SEARCH_MAX_SIZE=100

# Enable search result highlighting
# Shows matching text snippets with HTML tags
SEARCH_HIGHLIGHT_ENABLED=true

# Enable aggregations (faceted search)
# Provides filters like price ranges, property types, etc.
SEARCH_AGGREGATIONS_ENABLED=true

# ==============================================================================
# INDEXING SETTINGS
# ==============================================================================

# Number of documents to process in each bulk indexing batch
# Larger batches are more efficient but use more memory
INDEXING_BATCH_SIZE=100

# Number of parallel threads for bulk indexing
# Increase for faster indexing on multi-core systems
INDEXING_PARALLEL_THREADS=4

# Whether to refresh the index after bulk operations
# Makes documents immediately searchable but impacts performance
INDEXING_REFRESH_AFTER_INDEX=true

# Whether to validate documents before indexing
# Ensures data quality but adds processing overhead
INDEXING_VALIDATE_BEFORE_INDEX=true

# ==============================================================================
# LOGGING SETTINGS
# ==============================================================================

# Logging verbosity level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Use DEBUG for development, INFO or WARNING for production
LOG_LEVEL=INFO

# Use structured logging format (JSON)
# Better for log aggregation and analysis tools
LOG_STRUCTURED=true

# ==============================================================================
# APPLICATION ENVIRONMENT
# ==============================================================================

# Environment name for the application
# Options: development, staging, production
# Affects error handling and performance optimizations
ENVIRONMENT=development

# Enable debug mode for detailed error messages
# NEVER enable in production - exposes sensitive information
DEBUG=false